(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],v=0,u=[];v<n.length;v++)r=n[v],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2600:function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=o(t);return a(e)}function o(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.logado?a("v-navigation-drawer",{attrs:{clipped:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.ehAdministrador||t.ehArmazenador||t.ehVendedor?[a("v-list-item",{attrs:{to:{name:"home"}}},[a("v-list-item-action",[a("v-icon",[t._v("home")])],1),a("v-list-item-title",[t._v(" Inicio ")])],1)]:t._e(),t.ehAdministrador||t.ehArmazenador?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[t._v(" Armazém ")])],1),a("v-list-item",{attrs:{to:{name:"categoria"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Categorias ")])],1)],1),a("v-list-item",{attrs:{to:{name:"artigo"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Artigos ")])],1)],1)],1)]:t._e(),t.ehAdministrador||t.ehArmazenador?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[t._v(" Compras ")])],1),a("v-list-item",{attrs:{to:{name:"compra"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Compras ")])],1)],1),a("v-list-item",{attrs:{to:{name:"fornecedor"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Fornecedores ")])],1)],1)],1)]:t._e(),t.ehAdministrador||t.ehVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[t._v(" Vendas ")])],1),a("v-list-item",{attrs:{to:{name:"venda"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Vendas ")])],1)],1),a("v-list-item",{attrs:{to:{name:"cliente"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Clientes ")])],1)],1)],1)]:t._e(),t.ehAdministrador?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[t._v(" Acessos ")])],1),a("v-list-item",{attrs:{to:{name:"usuario"}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Usuários ")])],1)],1)],1)]:t._e(),t.ehAdministrador||t.ehArmazenador||t.ehVendedor?[a("v-list-group",[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[t._v(" Consultas ")])],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Consulta Compras ")])],1)],1),a("v-list-item",{attrs:{to:{name:""}}},[a("v-list-item-action",[a("v-icon",[t._v("table-chart")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Consulta Vendas ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-app-bar",{attrs:{"clipped-left":t.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Sistema")])],1),a("v-spacer"),t.logado?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.sair()}}},[a("v-icon",[t._v("logout")]),t._v(" Sair ")],1):a("v-btn",{attrs:{to:{name:"login"},icon:""}},[a("v-icon",[t._v("apps")]),t._v(" Login ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v(" Mauricio PC Junior © 2019 ")])],1)],1)],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{attrs:{"text-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),s("v-flex",{attrs:{"mb-4":""}},[s("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v(" Welcome to Vuetify ")]),s("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),s("br"),t._v("please join our online "),s("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),s("v-flex",{attrs:{"mb-5":"",xs12:""}},[s("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),s("v-layout",{attrs:{"justify-center":""}},t._l(t.whatsNext,(function(e,a){return s("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),s("v-flex",{attrs:{xs12:"","mb-5":""}},[s("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),s("v-layout",{attrs:{"justify-center":""}},t._l(t.importantLinks,(function(e,a){return s("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),s("v-flex",{attrs:{xs12:"","mb-5":""}},[s("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),s("v-layout",{attrs:{"justify-center":""}},t._l(t.ecosystem,(function(e,a){return s("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1)],1)],1)},n=[],l={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},c=l,d=a("2877"),v=a("6544"),u=a.n(v),m=a("a523"),h=a("0e8f"),p=a("adda"),f=a("a722"),_=Object(d["a"])(c,r,n,!1,null,null,null);_.exports;u()(_,{VContainer:m["a"],VFlex:h["a"],VImg:p["a"],VLayout:f["a"]});var x={name:"App",data:function(){return{drawer:!0}},computed:{logado:function(){return this.$store.state.usuario},ehAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},ehArmazenador:function(){return this.$store.state.usuario&&"Armazenador"==this.$store.state.usuario.rol},ehVendedor:function(){return this.$store.state.usuario&&"Vendedor"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{sair:function(){this.$store.dispatch("sair")}}},b=x,g=a("7496"),k=a("40dc"),y=a("5bc1"),C=a("8336"),A=a("b0af"),V=a("99d9"),M=a("a75b"),T=a("553a"),j=a("132d"),I=a("8860"),w=a("56b0"),D=a("da13"),N=a("1800"),S=a("5d23"),$=a("f774"),E=a("0789"),O=a("2fa4"),P=a("2a7f"),F=Object(d["a"])(b,i,o,!1,null,null,null),q=F.exports;u()(F,{VApp:g["a"],VAppBar:k["a"],VAppBarNavIcon:y["a"],VBtn:C["a"],VCard:A["a"],VCardText:V["b"],VContainer:m["a"],VContent:M["a"],VFlex:h["a"],VFooter:T["a"],VIcon:j["a"],VLayout:f["a"],VList:I["a"],VListGroup:w["a"],VListItem:D["a"],VListItemAction:N["a"],VListItemContent:S["a"],VListItemTitle:S["b"],VNavigationDrawer:$["a"],VSlideYTransition:E["e"],VSpacer:O["a"],VToolbarTitle:P["a"]});a("45fc");var z=a("8c4f"),L=a("2f62"),R=a("04e1"),U=a.n(R);s["a"].use(L["a"]);var B=new L["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",U()(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",U()(a))),le.push({name:"home"})},sair:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),le.push({name:"login"})}},modules:{}}),G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("div",{staticClass:"ct-chart"},[a("canvas",{attrs:{id:"myChart"}})])])],1)],1)},J=[],K=(a("d81d"),a("e25e"),a("bc3a")),H=a.n(K),W=(a("30ef"),{data:function(){return{valores:[],meses:[],totais:[]}},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("venda/grafico12Meses",a).then((function(e){t.valores=e.data,t.graficar()})).catch((function(t){console.log(t)}))},graficar:function(){var t=this,e="";t.valores.map((function(a){switch(parseInt(a._id.month)){case 1:e="Janeiro";break;case 2:e="Fevereiro";break;case 3:e="Março";break;case 4:e="Abril";break;case 5:e="Maio";break;case 6:e="Junho";break;case 7:e="Julho";break;case 8:e="Agosto";break;case 9:e="Setembro";break;case 10:e="Outubro";break;case 11:e="Novembro";break;case 12:e="Dezembro";break;default:e="error"}t.meses.push(e+"-"+a._id.year),t.totais.push(a.total)}));var a=document.getElementById("myChart");new Chart(a,{type:"bar",data:{labels:t.meses,datasets:[{label:"Vendas dos últimos 12 meses",data:t.totais,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},mounted:function(){this.listar()}}),Q=W,Y=Object(d["a"])(Q,G,J,!1,null,null,null),Z=Y.exports;u()(Y,{VContainer:m["a"],VFlex:h["a"],VLayout:f["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorias")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Descrição"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.validar,expression:"validar"}],attrs:{cols:"12",sm:"6",md:"4"}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" edit ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}])})],1)],1)},tt=[],et=(a("a4d3"),a("e01a"),a("b0c0"),{data:function(){return{dialog:!1,search:"",categorias:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Descrição",value:"description",sortable:!1},{text:"Estado",value:"status",sortable:!1}],editedIndex:-1,__id:"",name:"",description:"",valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo Item":"Editar Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("categoria/list",a).then((function(e){t.categorias=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.name="",this.description="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],(this.name.length<1||this.name.length>50)&&this.validaMensagem.push("O nome da categoria deve ter entre 1-50 caracteres"),this.description.length>255&&this.validaMensagem.push("A descrição da categoria não deve ter mais de 255 caracteres"),this.validaMensagem.length&&(this.validar=1),this.valida},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?H.a.put("categoria/update",{_id:this._id,name:this.name,description:this.description},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):H.a.post("categoria/add",{name:this.name,description:this.description},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.name=t.name,this.description=t.description,this.dialog=!0,this.editedIndex=1},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.name,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("categoria/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("categoria/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.limpar(),this.dialog=!1}}}),at=et,st=a("62ad"),it=a("8fea"),ot=a("169a"),rt=a("ce7e"),nt=a("0fd9"),lt=a("8654"),ct=a("71d9"),dt=Object(d["a"])(at,X,tt,!1,null,null,null),vt=dt.exports;u()(dt,{VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:st["a"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl14:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[a("v-toolbar-title",[t._v(" Acesso ao Sistema ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Senha",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorM?a("v-flex",{staticClass:"red--text"},[t._v(" "+t._s(t.errorM)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.entrar()}}},[t._v(" Entrar ")])],1)],1)],1)],1)],1)},mt=[],ht={data:function(){return{email:"",password:"",errorM:null}},methods:{entrar:function(){var t=this;H.a.post("/usuario/login",{email:this.email,password:this.password}).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarToken",e.tokenReturn),t.$router.push({name:"home"})})).catch((function(e){t.errorM=null,404==e.response.status?t.errorM="Não existe usuário ou os dados estão incorretos":t.errorM="Ocorreu um erro com o servidor"}))}}},pt=ht,ft=Object(d["a"])(pt,ut,mt,!1,null,null,null),_t=ft.exports;u()(ft,{VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VFlex:h["a"],VLayout:f["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuários")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.rols,label:"Papel"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.documents,label:"Tipo do Documento"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Número do Documento"},model:{value:t.document_num,callback:function(e){t.document_num=e},expression:"document_num"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Direção"},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Telefone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{type:"password",label:"Senha"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.validar,expression:"validar"}],attrs:{cols:"12",sm:"6",md:"4"}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" edit ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}])})],1)],1)},bt=[],gt={data:function(){return{dialog:!1,search:"",usuarios:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Papel",value:"rol",sortable:!1},{text:"Tipo Documento",value:"document_type",sortable:!1},{text:"Número Documento",value:"document_num",sortable:!1},{text:"Direção",value:"direction",sortable:!1},{text:"Telefone",value:"phone",sortable:!1},{text:"E-mail",value:"email",sortable:!1},{text:"Estado",value:"status",sortable:!1}],editedIndex:-1,__id:"",name:"",rol:"",rols:["Administrador","Armazenador","Vendedor"],document_type:"",documents:["RG","CPF","PASSAPORTE","CNH"],document_num:"",direction:"",phone:"",email:"",password:"",valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo Item":"Editar Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("usuario/list",a).then((function(e){t.usuarios=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.name="",this.document_num="",this.direction="",this.phone="",this.email="",this.password="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],this.rol||this.validaMensagem.push("Seleciona um papel"),(this.name.length<1||this.name.length>50)&&this.validaMensagem.push("O nome do usuário deve ter entre 1-50 caracteres"),this.document_num.length>20&&this.validaMensagem.push("O documento não deve ter mais de 20 caracteres"),this.direction.length>70&&this.validaMensagem.push("A direção não deve ter mais de 20 caracteres"),this.phone.length>20&&this.validaMensagem.push("O telefone não deve ter mais de 20 caracteres"),this.validaMensagem.length&&(this.validar=1),(this.email.length<1||this.email.length>50)&&this.validaMensagem.push("O email do usuário deve ter entre 1-50 caracteres"),(this.password.length<1||this.password.length>64)&&this.validaMensagem.push("A senha do usuário deve ter entre 1-64 caracteres"),this.valida},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?H.a.put("usuario/update",{_id:this._id,rol:this.rol,name:this.name,document_type:this.document_type,document_num:this.document_num,direction:this.direction,phone:this.phone,email:this.email,password:this.password},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):H.a.post("usuario/add",{rol:this.rol,name:this.name,document_type:this.document_type,document_num:this.document_num,direction:this.direction,phone:this.phone,email:this.email,password:this.password},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.rol=t.rol,this.name=t.name,this.document_type=t.document_type,this.document_num=t.document_num,this.direction=t.direction,this.phone=t.phone,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.name,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("usuario/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("usuario/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.limpar(),this.dialog=!1}}},kt=gt,yt=a("b974"),Ct=Object(d["a"])(kt,xt,bt,!1,null,null,null),At=Ct.exports;u()(Ct,{VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:st["a"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSelect:yt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.artigos,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",{on:{click:function(e){return t.criarPDF()}}},[a("v-icon",[t._v("print")])],1),a("v-toolbar-title",[t._v("Artigos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.categories,label:"Categoria"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{type:"number",label:"Estoque"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Preço de Venda"},model:{value:t.price_shell,callback:function(e){t.price_shell=e},expression:"price_shell"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Descrição"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.validar,expression:"validar"}],attrs:{cols:"12",sm:"6",md:"4"}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" edit ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.category",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.category))])]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}])})],1)],1)},Mt=[],Tt=a("e511"),jt=a.n(Tt),It=(a("0da4"),{data:function(){return{dialog:!1,search:"",artigos:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Código",value:"code",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Categoria",value:"category.name",sortable:!0},{text:"Estoque",value:"stock",sortable:!1},{text:"Preço de Venda",value:"price_shell",sortable:!1},{text:"Descrição",value:"description",sortable:!1},{text:"Estado",value:"status",sortable:!1}],editedIndex:-1,__id:"",category:"",categories:[],code:"",name:"",stock:0,price_shell:0,description:"",valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo Item":"Editar Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectCategory()},methods:{criarPDF:function(){var t=[{title:"Nome",dataKey:"name"},{title:"Código",dataKey:"code"},{title:"Categoria",dataKey:"category"},{title:"Estoque",dataKey:"stock"},{title:"Preço de Venda",dataKey:"price_shell"}],e=[];this.artigos.map((function(t){e.push({name:t.name,code:t.code,category:t.category.name,stock:t.stock,price_shell:t.price_shell})}));var a=new jt.a("p","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(t){a.text("Lista de Artigos",40,30)}}),a.save("Artigos.pdf")},selectCategory:function(){var t=this,e=[],a={Token:this.$store.state.token},s={headers:a};H.a.get("categoria/list",s).then((function(a){e=a.data,e.map((function(e){t.categories.push({text:e.name,value:e._id}),console.log(e.name,e._id)}))})).catch((function(t){console.log(t)}))},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("artigo/list",a).then((function(e){t.artigos=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.name="",this.code="",this.stock=0,this.price_shell=0,this.description="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],this.category||this.validaMensagem.push("Selecione uma categoria"),this.code.length>64&&this.validaMensagem.push("O código não deve ter mais de 64 caracteres"),(this.name.length<1||this.name.length>50)&&this.validaMensagem.push("O nome do artigo deve ter entre 1-50 caracteres"),this.description.length>255&&this.validaMensagem.push("A descrição do artigo não deve ter mais de 255 caracteres"),this.stock.length<0&&this.validaMensagem.push("Insira um valor de estoque válido"),this.price_shell.length<0&&this.validaMensagem.push("Insira um preço de venda válido"),this.validaMensagem.length&&(this.valida=1),this.valida},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?H.a.put("artigo/update",{_id:this._id,category:this.category,code:this.code,name:this.name,stock:this.stock,price_shell:this.price_shell,description:this.description},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):H.a.post("artigo/add",{category:this.category,code:this.code,name:this.name,stock:this.stock,price_shell:this.price_shell,description:this.description},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.category=t.category,this.code=t.code,this.name=t.name,this.stock=t.stock,this.price_shell=t.price_shell,this.description=t.description,this.dialog=!0,this.editedIndex=1},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.name,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("artigo/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("artigo/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.limpar(),this.dialog=!1}}}),wt=It,Dt=Object(d["a"])(wt,Vt,Mt,!1,null,null,null),Nt=Dt.exports;u()(Dt,{VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:st["a"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSelect:yt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.persons,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.documents,label:"Tipo do Documento"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Número do Documento"},model:{value:t.document_num,callback:function(e){t.document_num=e},expression:"document_num"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Direção"},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Telefone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.validar,expression:"validar"}],attrs:{cols:"12",sm:"6",md:"4"}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" edit ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}])})],1)],1)},$t=[],Et={data:function(){return{dialog:!1,search:"",persons:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Tipo",value:"person_type",sortable:!1},{text:"Tipo Documento",value:"document_type",sortable:!1},{text:"Número Documento",value:"document_num",sortable:!1},{text:"Direção",value:"direction",sortable:!1},{text:"Telefone",value:"phone",sortable:!1},{text:"E-mail",value:"email",sortable:!1},{text:"Estado",value:"status",sortable:!1}],editedIndex:-1,__id:"",name:"",person_type:"Cliente",document_type:"",documents:["RG","CPF","PASSAPORTE","CNH"],document_num:"",direction:"",phone:"",email:"",valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo Item":"Editar Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("pessoa/listClientes",a).then((function(e){t.persons=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.name="",this.document_num="",this.direction="",this.phone="",this.email="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],(this.name.length<1||this.name.length>50)&&this.validaMensagem.push("O nome da pessoa deve ter entre 1-50 caracteres"),this.document_num.length>20&&this.validaMensagem.push("O documento não deve ter mais de 20 caracteres"),this.direction.length>70&&this.validaMensagem.push("A direção não deve ter mais de 20 caracteres"),this.phone.length>20&&this.validaMensagem.push("O telefone não deve ter mais de 20 caracteres"),this.validaMensagem.length&&(this.validar=1),this.email.length>50&&this.validaMensagem.push("O email da pessoa deve ter menos de 50 caracteres"),this.valida},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?H.a.put("pessoa/update",{_id:this._id,person_type:this.person_type,name:this.name,document_type:this.document_type,document_num:this.document_num,direction:this.direction,phone:this.phone,email:this.email,password:this.password},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):H.a.post("pessoa/add",{person_type:this.person_type,name:this.name,document_type:this.document_type,document_num:this.document_num,direction:this.direction,phone:this.phone,email:this.email},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.person_type=t.person_type,this.name=t.name,this.document_type=t.document_type,this.document_num=t.document_num,this.direction=t.direction,this.phone=t.phone,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.name,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("pessoa/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("pessoa/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.limpar(),this.dialog=!1}}},Ot=Et,Pt=Object(d["a"])(Ot,St,$t,!1,null,null,null),Ft=Pt.exports;u()(Pt,{VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:st["a"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSelect:yt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.persons,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Fornecedor")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Novo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:t.documents,label:"Tipo do Documento"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Número do Documento"},model:{value:t.document_num,callback:function(e){t.document_num=e},expression:"document_num"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Direção"},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Telefone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"E-mail"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.validar,expression:"validar"}],attrs:{cols:"12",sm:"6",md:"4"}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.salvar}},[t._v("Salvar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" edit ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}])})],1)],1)},zt=[],Lt={data:function(){return{dialog:!1,search:"",persons:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Tipo",value:"person_type",sortable:!1},{text:"Tipo Documento",value:"document_type",sortable:!1},{text:"Número Documento",value:"document_num",sortable:!1},{text:"Direção",value:"direction",sortable:!1},{text:"Telefone",value:"phone",sortable:!1},{text:"E-mail",value:"email",sortable:!1},{text:"Estado",value:"status",sortable:!1}],editedIndex:-1,__id:"",name:"",person_type:"Fornecedor",document_type:"",documents:["RG","CPF","PASSAPORTE","CNH"],document_num:"",direction:"",phone:"",email:"",valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Novo Item":"Editar Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("pessoa/listFornecedores",a).then((function(e){t.persons=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.name="",this.document_num="",this.direction="",this.phone="",this.email="",this.valida=0,this.validaMensagem=[],this.editedIndex=-1},validar:function(){return this.valida=0,this.validaMensagem=[],(this.name.length<1||this.name.length>50)&&this.validaMensagem.push("O nome da pessoa deve ter entre 1-50 caracteres"),this.document_num.length>20&&this.validaMensagem.push("O documento não deve ter mais de 20 caracteres"),this.direction.length>70&&this.validaMensagem.push("A direção não deve ter mais de 20 caracteres"),this.phone.length>20&&this.validaMensagem.push("O telefone não deve ter mais de 20 caracteres"),this.validaMensagem.length&&(this.validar=1),this.email.length>50&&this.validaMensagem.push("O email da pessoa deve ter menos de 50 caracteres"),this.valida},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(this.editedIndex>-1?H.a.put("pessoa/update",{_id:this._id,person_type:this.person_type,name:this.name,document_type:this.document_type,document_num:this.document_num,direction:this.direction,phone:this.phone,email:this.email,password:this.password},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})):H.a.post("pessoa/add",{person_type:this.person_type,name:this.name,document_type:this.document_type,document_num:this.document_num,direction:this.direction,phone:this.phone,email:this.email},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},editItem:function(t){this._id=t._id,this.name=t.name,this.document_type=t.document_type,this.document_num=t.document_num,this.direction=t.direction,this.phone=t.phone,this.email=t.email,this.password=t.password,this.dialog=!0,this.editedIndex=1},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.name,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("pessoa/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("pessoa/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.limpar(),this.dialog=!1}}},Rt=Lt,Ut=Object(d["a"])(Rt,qt,zt,!1,null,null,null),Bt=Ut.exports;u()(Ut,{VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VCol:st["a"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSelect:yt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Compras")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==t.verNovo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),a("v-spacer"),0==t.verNovo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostraNovo()}}},[t._v("Novo")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Selecione um artigo")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArtigos(e)}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArtigos,items:t.artigos},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Artigos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"black--text",on:{click:function(e){return t.adicionarDetalhe(s)}}},[t._v(" add ")])]}},{key:"item.category",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.category))])]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}}])})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1)],1),0==t.verNovo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.compras,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verCompra(s)}}},[t._v(" tab ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.user",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.user))])]}},{key:"item.person",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.person))])]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Aceito")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Anulado")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}],null,!1,3977139112)}):t._e(),t.verNovo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.receipts,label:"Tipo do Comprovante"},model:{value:t.receipt_type,callback:function(e){t.receipt_type=e},expression:"receipt_type"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serio do Comprovante"},model:{value:t.receipt_serie,callback:function(e){t.receipt_serie=e},expression:"receipt_serie"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número do Comprovante"},model:{value:t.receipt_num,callback:function(e){t.receipt_num=e},expression:"receipt_num"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-autocomplete",{attrs:{items:t.persons,label:"Fornecedor"},model:{value:t.person,callback:function(e){t.person=e},expression:"person"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Imposto"},model:{value:t.tax,callback:function(e){t.tax=e},expression:"tax"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarModalArtigos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArtigo,expression:"errorArtigo"}],attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArtigo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalhes,items:t.detalhes},scopedSlots:t._u([{key:"item.apagar",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"black--text",on:{click:function(e){return t.eliminarDetalhe(t.detalhes,s)}}},[t._v(" delete ")])]}},{key:"item.price",fn:function(e){var s=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:s.price,callback:function(e){t.$set(s,"price",e)},expression:"item.price"}},[t._v(t._s(s.price))])]}},{key:"item.quantity",fn:function(e){var s=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:s.quantity,callback:function(e){t.$set(s,"quantity",e)},expression:"item.quantity"}},[t._v(t._s(s.quantity))])]}},{key:"item.total",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(a.quantity*a.price)+" ")]}}],null,!1,3218507774)},[a("template",{slot:"no-data"},[a("h3",[t._v("Não tem artigos anexados em detalhes")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $ "+t._s(t.totalParcial=(t.total-t.totalImposto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Imposto:")]),t._v(" $ "+t._s(t.totalImposto=(t.total*t.tax/(1+t.tax)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total:")]),t._v(" $ "+t._s(t.total=t.calcularTotal)+" ")])]],2),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.ocultarNovo()}}},[t._v("Cancelar")]),0==t.verDetalhe?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.salvar()}}},[t._v("Salvar")]):t._e()],1)],1)],1):t._e()],1)],1)},Jt=[],Kt=(a("4160"),a("c975"),a("a434"),a("159b"),{data:function(){return{dialog:!1,search:"",compras:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Usuário",value:"user",sortable:!0},{text:"Fornecedor",value:"person",sortable:!0},{text:"Tipo do Comprovante",value:"receipt_type",sortable:!0},{text:"Serie do Comprovante",value:"receipt_serie",sortable:!1},{text:"Número do Comprovante",value:"receipt_num",sortable:!1},{text:"Data",value:"createdAt",sortable:!1},{text:"Imposto",value:"tax",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"status",sortable:!1}],_id:"",person:"",persons:[],receipt_type:"",receipts:["BOLETO","FATURA","GUIA","TICKET"],receipt_serie:"",receipt_num:"",tax:.18,code:"",cabeceraDetalhes:[{text:"Apagar",value:"apagar",sortable:!1},{text:"Artigo",value:"article",sortable:!1},{text:"Quantidade",value:"quantity",sortable:!1},{text:"Preço",value:"price",sortable:!1},{text:"Sub Total",value:"total",sortable:!1}],detalhes:[],verNovo:0,errorArtigo:null,total:0,totalParcial:0,totalImposto:0,artigos:[],texto:"",cabeceraArtigos:[{text:"Selecionar",value:"selecionar",sortable:!1},{text:"Código",value:"code",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Categoria",value:"category.name",sortable:!0},{text:"Estoque",value:"stock",sortable:!1},{text:"Preço de Venda",value:"price_shell",sortable:!1},{text:"Descrição",value:"description",sortable:!1},{text:"Estado",value:"status",sortable:!1}],verDetalhe:0,valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:""}},computed:{calcularTotal:function(){var t=0;return this.detalhes.forEach((function(e){t+=e.quantity*e.price})),t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selecionarPessoa()},methods:{selecionarPessoa:function(){var t=this,e=[],a={Token:this.$store.state.token},s={headers:a};H.a.get("pessoa/listFornecedores",s).then((function(a){e=a.data,e.map((function(e){t.persons.push({text:e.name,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo:function(){var t=this;t.errorArtigo=null;var e={Token:this.$store.state.token},a={headers:e};H.a.get("artigo/queryCode?code="+this.code,a).then((function(e){t.adicionarDetalhe(e.data)})).catch((function(e){t.errorArtigo="Não existe este artigo"}))},adicionarDetalhe:function(t){this.errorArtigo=null,1==this.encontrar(t._id)?this.errorArtigo="Este artigo já foi adicionado.":(this.detalhes.push({_id:t._id,article:t.name,quantity:1,price:t.price_shell}),this.code="")},encontrar:function(t){var e=!1;return this.detalhes.forEach((function(a){a._id==t&&(e=!0)})),e},eliminarDetalhe:function(t,e){var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArtigos:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("artigo/list?valor="+this.texto,a).then((function(e){t.artigos=e.data})).catch((function(t){console.log(t)}))},mostrarModalArtigos:function(){this.dialog=1},listarDetalhes:function(t){var e=this,a={Token:this.$store.state.token},s={headers:a};H.a.get("compra/query?_id="+t,s).then((function(t){e.detalhes=t.data.details})).catch((function(t){console.log(t)}))},verCompra:function(t){this.limpar(),this.receipt_type=t.receipt_type,this.receipt_serie=t.receipt_serie,this.receipt_num=t.receipt_num,this.person=t.person._id,this.tax=t.tax,this.listarDetalhes(t._id),this.verNovo=1,this.verDetalhe=1},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("compra/list",a).then((function(e){t.compras=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.receipt_type="",this.receipt_serie="",this.receipt_num="",this.tax=.18,this.code="",this.total=0,this.totalParcial=0,this.totalImposto=0,this.detalhes=[],this.verNovo=0,this.valida=0,this.validaMensagem=[],this.verDetalhe=0},validar:function(){return this.valida=0,this.validaMensagem=[],this.person||this.validaMensagem.push("Seleciona um Fornecedor"),this.receipt_type||this.validaMensagem.push("Selecione um tipo de comprovante"),this.receipt_num||this.validaMensagem.push("Insira o número do comprovante"),(!this.tax||this.tax<0||this.tax>1)&&this.validaMensagem.push("Insira um imposto válido"),this.detalhes.length<=0&&this.validaMensagem.push("Insira ao menos um artigo em detalhes"),this.validaMensagem.length&&(this.valida=1),this.valida},mostraNovo:function(){this.verNovo=1},ocultarNovo:function(){this.verNovo=0,this.limpar()},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(console.log(this.$store.state.usuario._id),H.a.post("compra/add",{person:this.person,user:this.$store.state.usuario._id,receipt_type:this.receipt_type,receipt_serie:this.receipt_serie,receipt_num:this.receipt_num,tax:this.tax,total:this.total,details:this.detalhes},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.receipt_num,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("compra/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("compra/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}}),Ht=Kt,Wt=a("c6a6"),Qt=Object(d["a"])(Ht,Gt,Jt,!1,null,null,null),Yt=Qt.exports;u()(Qt,{VAutocomplete:Wt["a"],VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSelect:yt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]});var Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Vendas")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),0==t.verNovo?a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e(),a("v-spacer"),0==t.verNovo?a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostraNovo()}}},[t._v("Novo")]):t._e(),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Selecione um artigo")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Pesquisa"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArtigos(e)}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArtigos,items:t.artigos},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Artigos")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"black--text",on:{click:function(e){return t.adicionarDetalhe(s)}}},[t._v(" add ")])]}},{key:"item.category",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.category))])]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Ativo")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Inativo")]):t._e()]}}])})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Ativar Item ")]):t._e(),2==t.adAction?a("v-card-title",{staticClass:"headline"},[t._v(" Desativar Item ")]):t._e(),a("v-card-text",[t._v(" Estás a ponto de "),1==t.adAction?a("span",[t._v("ativar")]):t._e(),2==t.adAction?a("span",[t._v("desativar")]):t._e(),t._v(" o item "+t._s(t.adName)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.ativarDesativarCancelar()}}},[t._v(" Cancelar ")]),1==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.ativar()}}},[t._v(" Ativar ")]):t._e(),2==t.adAction?a("v-btn",{attrs:{color:"orange darken-4",text:""},on:{click:function(e){return t.desativar()}}},[t._v(" Desativar ")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.comprovanteModal,callback:function(e){t.comprovanteModal=e},expression:"comprovanteModal"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[a("v-btn",{on:{click:function(e){return t.criarPDF()}}},[a("v-icon",[t._v("print")])],1),t._v(" Relatório de venda ")],1),a("v-card-text",{},[a("div",{attrs:{id:"factura"}},[a("header",[a("div",{attrs:{id:"logo"}},[a("img",{attrs:{src:"img/logo2.png",id:"imagen"}})]),a("div",{attrs:{id:"datos"}},[a("p",{attrs:{id:"encabezado"}},[a("b",[t._v("IncanatoIT")]),a("br"),t._v("José Gálvez 1368, Chongoyape - Chiclayo, Perú"),a("br"),t._v("Telefono:(+51)931742904"),a("br"),t._v("Email:jcarlos.ad7@gmail.com ")])]),a("div",{attrs:{id:"fact"}},[a("p",[t._v(t._s(t.receipt_type)),a("br"),t._v(" "+t._s(t.receipt_serie)+" - "+t._s(t.receipt_num)),a("br"),t._v(" "+t._s(t.data))])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facliente"}},[a("tbody",[a("tr",[a("td",{attrs:{id:"cliente"}},[a("strong",[t._v("Sr(a). "+t._s(t.person))]),a("br"),a("strong",[t._v("Documento:")]),t._v(" "+t._s(t.person)),a("br"),a("strong",[t._v("Dirección:")]),t._v(" "+t._s(t.person)),a("br"),a("strong",[t._v("Teléfono:")]),t._v(" "+t._s(t.person)),a("br"),a("strong",[t._v("Email:")]),t._v(" "+t._s(t.person)+" ")])])])])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facarticulo"}},[a("thead",[a("tr",{attrs:{id:"fa"}},[a("th",[t._v("CANT")]),a("th",[t._v("DESCRIPCION")]),a("th",[t._v("PRECIO UNIT")]),a("th",[t._v("DESC.")]),a("th",[t._v("PRECIO TOTAL")])])]),a("tbody",t._l(t.detalhes,(function(e){return a("tr",{key:e._id},[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(e.artigo))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.price))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.discount))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.quantity*e.price-e.discount))])])})),0),a("tfoot",[a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("SUBTOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.totalParcial=(t.total-t.totalImposto).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("IVA ("+t._s(t.tax)+"%)")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.totalImposto=(t.total*t.tax/(1+t.tax)).toFixed(2)))])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("TOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(t.total=t.calcularTotal))])])])])])]),a("br"),a("br"),a("footer",[a("div",{attrs:{id:"gracias"}},[a("p",[a("b",[t._v("Gracias por su compra!")])])])])])]),a("v-card-actions",{},[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.ocultarComprovante}},[t._v("Cancelar")])],1)],1)],1)],1),0==t.verNovo?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.vendas,search:t.search},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.verCompra(s)}}},[t._v(" tab ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.mostrarComprovante(s)}}},[t._v(" print ")]),s.status?[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(2,s)}}},[t._v(" block ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.ativarDesativarMostrar(1,s)}}},[t._v(" check ")])]]}},{key:"item.user",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.user))])]}},{key:"item.person",fn:function(e){var s=e.item;return[a("v-text",[t._v(t._s(s.person))])]}},{key:"item.status",fn:function(e){var s=e.item;return[1==s.status?a("v-text",{staticClass:"blue--text"},[t._v("Aceito")]):t._e(),0==s.status?a("v-text",{staticClass:"red--text"},[t._v("Anulado")]):t._e()]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Recarregar")])]},proxy:!0}],null,!1,4249583263)}):t._e(),t.verNovo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-select",{attrs:{items:t.receipts,label:"Tipo do Comprovante"},model:{value:t.receipt_type,callback:function(e){t.receipt_type=e},expression:"receipt_type"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Serio do Comprovante"},model:{value:t.receipt_serie,callback:function(e){t.receipt_serie=e},expression:"receipt_serie"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{label:"Número do Comprovante"},model:{value:t.receipt_num,callback:function(e){t.receipt_num=e},expression:"receipt_num"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-autocomplete",{attrs:{items:t.persons,label:"Cliente"},model:{value:t.person,callback:function(e){t.person=e},expression:"person"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl4:""}},[a("v-text-field",{attrs:{type:"number",label:"Imposto"},model:{value:t.tax,callback:function(e){t.tax=e},expression:"tax"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl2:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarModalArtigos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArtigo,expression:"errorArtigo"}],attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArtigo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalhes,items:t.detalhes},scopedSlots:t._u([{key:"item.apagar",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"black--text",on:{click:function(e){return t.eliminarDetalhe(t.detalhes,s)}}},[t._v(" delete ")])]}},{key:"item.price",fn:function(e){var s=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:s.price,callback:function(e){t.$set(s,"price",e)},expression:"item.price"}},[t._v(t._s(s.price))])]}},{key:"item.quantity",fn:function(e){var s=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:s.quantity,callback:function(e){t.$set(s,"quantity",e)},expression:"item.quantity"}},[t._v(t._s(s.quantity))])]}},{key:"item.discount",fn:function(e){var s=e.item;return[a("v-text-field",{attrs:{type:"number"},model:{value:s.discount,callback:function(e){t.$set(s,"discount",e)},expression:"item.discount"}},[t._v(t._s(s.discount))])]}},{key:"item.total",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(a.quantity*a.price-a.discount)+" ")]}}],null,!1,651910213)},[a("template",{slot:"no-data"},[a("h3",[t._v("Não tem artigos anexados em detalhes")])])],2),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $ "+t._s(t.totalParcial=(t.total-t.totalImposto).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Imposto:")]),t._v(" $ "+t._s(t.totalImposto=(t.total*t.tax/(1+t.tax)).toFixed(2))+" ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total:")]),t._v(" $ "+t._s(t.total=t.calcularTotal)+" ")])]],2),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensagem,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.ocultarNovo()}}},[t._v("Cancelar")]),0==t.verDetalhe?a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.salvar()}}},[t._v("Salvar")]):t._e()],1)],1)],1):t._e()],1)],1)},Xt=[],te=a("c0e9"),ee=a.n(te),ae={data:function(){return{dialog:!1,search:"",vendas:[],headers:[{text:"Opções",value:"action",sortable:!1},{text:"Usuário",value:"user",sortable:!0},{text:"Cliente",value:"person",sortable:!0},{text:"Tipo do Comprovante",value:"receipt_type",sortable:!0},{text:"Serie do Comprovante",value:"receipt_serie",sortable:!1},{text:"Número do Comprovante",value:"receipt_num",sortable:!1},{text:"Data",value:"createdAt",sortable:!1},{text:"Imposto",value:"tax",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"status",sortable:!1}],_id:"",person:"",persons:[],receipt_type:"",receipts:["BOLETO","FATURA","GUIA","TICKET"],receipt_serie:"",receipt_num:"",tax:.18,code:"",cabeceraDetalhes:[{text:"Apagar",value:"apagar",sortable:!1},{text:"Artigo",value:"article",sortable:!1},{text:"Quantidade",value:"quantity",sortable:!1},{text:"Preço",value:"price",sortable:!1},{text:"Desconto",value:"discount",sortable:!1},{text:"Sub Total",value:"total",sortable:!1}],detalhes:[],verNovo:0,errorArtigo:null,total:0,totalParcial:0,totalImposto:0,artigos:[],texto:"",cabeceraArtigos:[{text:"Selecionar",value:"selecionar",sortable:!1},{text:"Código",value:"code",sortable:!1},{text:"Nome",value:"name",sortable:!0},{text:"Categoria",value:"category.name",sortable:!0},{text:"Estoque",value:"stock",sortable:!1},{text:"Preço de Venda",value:"price_shell",sortable:!1},{text:"Descrição",value:"description",sortable:!1},{text:"Estado",value:"status",sortable:!1}],verDetalhe:0,valida:0,validaMensagem:[],adModal:0,adAction:0,adName:"",adId:"",comprovanteModal:0,data:null}},computed:{calcularTotal:function(){var t=0;return this.detalhes.forEach((function(e){t+=e.quantity*e.price-e.discount})),console.log(t),t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selecionarPessoa()},methods:{criarPDF:function(){var t=document.getElementById("factura");ee()(t).then((function(t){var e=t.toDataURL("image/png"),a=210,s=295,i=t.height*a/t.width,o=i,r=new jt.a("p","mm","a4"),n=0;r.addImage(e,"PNG",0,n,a,i),o-=s;while(o>=0)n=o-i,r.addPage(),r.addImage(e,"PNG",0,n,a,i),o-=s;r.save("Comprovante.pdf")}))},mostrarComprovante:function(t){this.limpar(),this.receipt_type=t.receipt_type,this.receipt_serie=t.receipt_serie,this.receipt_num=t.receipt_num,this.data=t.createdAt,this.person=t.person,this.tax=t.tax,this.listarDetalhes(t._id),this.comprovanteModal=1},ocultarComprovante:function(){this.comprovanteModal=0},selecionarPessoa:function(){var t=this,e=[],a={Token:this.$store.state.token},s={headers:a};H.a.get("pessoa/listClientes",s).then((function(a){e=a.data,e.map((function(e){t.persons.push({text:e.name,value:e._id})}))})).catch((function(t){console.log(t)}))},buscarCodigo:function(){var t=this;t.errorArtigo=null;var e={Token:this.$store.state.token},a={headers:e};H.a.get("artigo/queryCode?code="+this.code,a).then((function(e){t.adicionarDetalhe(e.data)})).catch((function(e){t.errorArtigo="Não existe este artigo"}))},adicionarDetalhe:function(t){this.errorArtigo=null,1==this.encontrar(t._id)?this.errorArtigo="Este artigo já foi adicionado.":(this.detalhes.push({_id:t._id,article:t.name,quantity:1,price:t.price_shell,discount:0}),this.code="")},encontrar:function(t){var e=!1;return this.detalhes.forEach((function(a){a._id==t&&(e=!0)})),e},eliminarDetalhe:function(t,e){var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArtigos:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("artigo/list?valor="+this.texto,a).then((function(e){t.artigos=e.data})).catch((function(t){console.log(t)}))},mostrarModalArtigos:function(){this.dialog=1},listarDetalhes:function(t){var e=this,a={Token:this.$store.state.token},s={headers:a};H.a.get("venda/query?_id="+t,s).then((function(t){e.detalhes=t.data.details})).catch((function(t){console.log(t)}))},verCompra:function(t){this.limpar(),this.receipt_type=t.receipt_type,this.receipt_serie=t.receipt_serie,this.receipt_num=t.receipt_num,this.person=t.person._id,this.tax=t.tax,this.listarDetalhes(t._id),this.verNovo=1,this.verDetalhe=1},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.get("venda/list",a).then((function(e){t.vendas=e.data})).catch((function(t){console.log(t)}))},limpar:function(){this._id="",this.receipt_type="",this.receipt_serie="",this.receipt_num="",this.tax=.18,this.code="",this.total=0,this.totalParcial=0,this.totalImposto=0,this.detalhes=[],this.verNovo=0,this.valida=0,this.validaMensagem=[],this.verDetalhe=0},validar:function(){return this.valida=0,this.validaMensagem=[],this.person||this.validaMensagem.push("Seleciona um Cliente"),this.receipt_type||this.validaMensagem.push("Selecione um tipo de comprovante"),this.receipt_num||this.validaMensagem.push("Insira o número do comprovante"),(!this.tax||this.tax<0||this.tax>1)&&this.validaMensagem.push("Insira um imposto válido"),this.detalhes.length<=0&&this.validaMensagem.push("Insira ao menos um artigo em detalhes"),this.validaMensagem.length&&(this.valida=1),this.valida},mostraNovo:function(){this.verNovo=1},ocultarNovo:function(){this.verNovo=0,this.limpar()},salvar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.validar()||(console.log(this.$store.state.usuario._id),H.a.post("venda/add",{person:this.person,user:this.$store.state.usuario._id,receipt_type:this.receipt_type,receipt_serie:this.receipt_serie,receipt_num:this.receipt_num,tax:this.tax,total:this.total,details:this.detalhes},a).then((function(e){t.limpar(),t.close(),t.listar()})).catch((function(t){console.log(t)})))},ativarDesativarMostrar:function(t,e){console.log(e),this.adModal=1,this.adName=e.receipt_num,this.adId=e._id,1==t?this.adAction=1:2==t?this.adAction=2:this.adModal=0},ativarDesativarCancelar:function(){this.adModal=0},ativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("venda/activate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},desativar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};H.a.put("venda/deactivate",{_id:this.adId},a).then((function(e){t.adModal=0,t.adAction=0,t.adName="",t.adId="",t.listar()})).catch((function(t){console.log(t)}))},close:function(){this.dialog=!1}}},se=ae,ie=(a("7c48"),Object(d["a"])(se,Zt,Xt,!1,null,null,null)),oe=ie.exports;u()(ie,{VAutocomplete:Wt["a"],VBtn:C["a"],VCard:A["a"],VCardActions:V["a"],VCardText:V["b"],VCardTitle:V["c"],VContainer:m["a"],VDataTable:it["a"],VDialog:ot["a"],VDivider:rt["a"],VFlex:h["a"],VIcon:j["a"],VLayout:f["a"],VRow:nt["a"],VSelect:yt["a"],VSpacer:O["a"],VTextField:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["a"]}),s["a"].use(z["a"]);var re=[{path:"/",name:"home",component:Z,meta:{administrador:!0,armazenador:!0,vendedor:!0}},{path:"/login",name:"login",component:_t,meta:{livre:!0}},{path:"/categoria",name:"categoria",component:vt,meta:{administrador:!0,armazenador:!0}},{path:"/usuario",name:"usuario",component:At,meta:{administrador:!0}},{path:"/cliente",name:"cliente",component:Ft,meta:{administrador:!0,vendedor:!0}},{path:"/venda",name:"venda",component:oe,meta:{administrador:!0,vendedor:!0}},{path:"/fornecedor",name:"fornecedor",component:Bt,meta:{administrador:!0,fornecedor:!0}},{path:"/artigo",name:"artigo",component:Nt,meta:{administrador:!0,armazenador:!0}},{path:"/compra",name:"compra",component:Yt,meta:{administrador:!0,armazenador:!0}}],ne=new z["a"]({mode:"history",base:"/",routes:re});ne.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.livre}))?a():B.state.usuario&&"Administrador"==B.state.usuario.rol?t.matched.some((function(t){return t.meta.administrador}))&&a():B.state.usuario&&"Vendedor"==B.state.usuario.rol?t.matched.some((function(t){return t.meta.vendedor}))&&a():B.state.usuario&&"Armazenador"==B.state.usuario.rol?t.matched.some((function(t){return t.meta.armazenador}))&&a():a({name:"login"})}));var le=ne,ce=a("f309"),de=a("eea9"),ve=a.n(de);s["a"].use(ce["a"]);var ue=new ce["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{pt:ve.a},current:"pt"},icons:{iconfont:"md"}});s["a"].config.productionTip=!1,H.a.defaults.baseURL="http://localhost:3000/api/",new s["a"]({router:le,store:B,vuetify:ue,render:function(t){return t(q)}}).$mount("#app")},"7c48":function(t,e,a){"use strict";var s=a("2600"),i=a.n(s);i.a},"9b19":function(t,e,a){t.exports=a.p+"img/logo.07d1e22e.svg"}});
//# sourceMappingURL=app.2711962a.js.map